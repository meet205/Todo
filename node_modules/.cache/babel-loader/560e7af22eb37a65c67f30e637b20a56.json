{"ast":null,"code":"import _regeneratorRuntime from\"/home/itechnotion/Downloads/meet react/todo/Todo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/itechnotion/Downloads/meet react/todo/Todo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/itechnotion/Downloads/meet react/todo/Todo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{setDatas}from\"../redux/actions/dataAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var List=function List(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var datas=useSelector(function(state){return state.getallDatas.datas;});var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){getAlldata();handleDelete();},[]);var getAlldata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:4500/data\").catch(function(err){console.log(err,\"data get time error\");});case 2:res=_context.sent;dispatch(setDatas(res.data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function getAlldata(){return _ref.apply(this,arguments);};}();var handleDelete=function handleDelete(id){try{axios.delete(\"http://localhost:4500/data/\".concat(id)).then(function(res){if(id!==res.id){setStatus(true);}});}catch(err){console.log(err,\"delete error\");}};if(status){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(List,{})});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-div-1 p-5 text-start\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"List Of Item\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 mt-5 text-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:function onClick(){return navigate(\"/add\",{replace:true});},children:\"Add\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table  col-md-12 mt-5\",children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"table-row mt-5\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"#\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Number\"}),/*#__PURE__*/_jsx(\"td\",{className:\"Icons text-center  p-3 d-flex\",children:\"Action\"})]}),/*#__PURE__*/_jsx(\"tbody\",{className:\"table-1\",children:datas.map(function(ele,i){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:i}),/*#__PURE__*/_jsx(\"td\",{children:ele.name}),/*#__PURE__*/_jsx(\"td\",{children:ele.id}),/*#__PURE__*/_jsxs(\"td\",{className:\"Icons text-center justify-content-space-evenly p-3 d-flex\",children:[/*#__PURE__*/_jsx(Link,{to:\"/view/\".concat(ele.id),children:/*#__PURE__*/_jsx(\"i\",{className:\"icon1 fa-solid fa-eye\"})}),/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(ele.id),children:/*#__PURE__*/_jsx(\"i\",{style:{color:\"orange\"},className:\"icon-2 fa fa-pencil\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-2\",onClick:function onClick(){return handleDelete(ele.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"icon3 fa-solid fa-delete-left\"})})]})]})},ele.id)});})})]})]})});};export default List;","map":{"version":3,"names":["React","Fragment","useEffect","useState","axios","Link","useNavigate","useSelector","useDispatch","setDatas","List","status","setStatus","datas","state","getallDatas","dispatch","navigate","getAlldata","handleDelete","get","catch","err","console","log","res","data","id","delete","then","replace","map","ele","i","name","color"],"sources":["/home/itechnotion/Downloads/meet react/todo/Todo/src/todo/List.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setDatas } from \"../redux/actions/dataAction\";\n\nconst List = () => {\n  const [status, setStatus] = useState();\n  const datas = useSelector((state) => state.getallDatas.datas);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    getAlldata();\n    handleDelete();\n  }, []);\n\n  const getAlldata = async () => {\n    const res = await axios.get(\"http://localhost:4500/data\").catch((err) => {\n      console.log(err, \"data get time error\");\n    });\n    dispatch(setDatas(res.data));\n  };\n\n  const handleDelete = (id) => {\n    try {\n      axios.delete(`http://localhost:4500/data/${id}`).then((res) => {\n        if (id !== res.id) {\n          setStatus(true);\n        }\n      });\n    } catch (err) {\n      console.log(err, \"delete error\");\n    }\n  };\n  if (status) {\n    return (\n      <>\n        <List />\n      </>\n    );\n  }\n  return (\n    <>\n      <div className=\"main-div-1 p-5 text-start\">\n        <h3>List Of Item</h3>\n        <div className=\"col-md-12 mt-5 text-end\">\n          <button\n            className=\"btn btn-warning\"\n            onClick={() => navigate(\"/add\", { replace: true })}\n          >\n            Add\n          </button>\n        </div>\n        <table className=\"table  col-md-12 mt-5\">\n          <tr className=\"table-row mt-5\">\n            <td>#</td>\n            <td>Name</td>\n            <td>Number</td>\n            <td className=\"Icons text-center  p-3 d-flex\">Action</td>\n          </tr>\n\n          <tbody className=\"table-1\">\n            {datas.map((ele, i) => {\n              return (\n                <>\n                  <Fragment key={ele.id}>\n                    <tr>\n                      <td>{i}</td>\n                      <td>{ele.name}</td>\n                      <td>{ele.id}</td>\n                      <td className=\"Icons text-center justify-content-space-evenly p-3 d-flex\">\n                        <Link to={`/view/${ele.id}`}>\n                          <i className=\"icon1 fa-solid fa-eye\"></i>\n                        </Link>\n\n                        <Link to={`/edit/${ele.id}`}>\n                          <i\n                            style={{ color: \"orange\" }}\n                            className=\"icon-2 fa fa-pencil\"\n                            aria-hidden=\"true\"\n                          ></i>\n                        </Link>\n                        <button\n                          className=\"btn-2\"\n                          onClick={() => handleDelete(ele.id)}\n                        >\n                          <i className=\"icon3 fa-solid fa-delete-left\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  </Fragment>\n                </>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n};\n\nexport default List;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}