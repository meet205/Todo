{"ast":null,"code":"import _defineProperty from\"/home/itechnotion/Downloads/meet react/todo/Todo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/itechnotion/Downloads/meet react/todo/Todo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/itechnotion/Downloads/meet react/todo/Todo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/itechnotion/Downloads/meet react/todo/Todo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/itechnotion/Downloads/meet react/todo/Todo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import Header from\"./Header\";import Footer from\"./Footer\";import{useDispatch}from\"react-redux\";import{putDatas}from\"../redux/actions/dataAction\";// import Curd from \"./Curd\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Edit=function Edit(){var _useState=useState({name:\"\",id:\"\"}),_useState2=_slicedToArray(_useState,2),student=_useState2[0],setStudent=_useState2[1];var dispatch=useDispatch();var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;useEffect(function(){getAlldata();edit();},[]);var getAlldata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:4500/data/\".concat(id)).then(function(res){console.log(res.data);setStudent(res.data);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0,\"data view time error\");case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function getAlldata(){return _ref.apply(this,arguments);};}();var changetext=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setStudent(_objectSpread(_objectSpread({},student),{},_defineProperty({},e.target.name,e.target.value)));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function changetext(_x){return _ref2.apply(this,arguments);};}();var edit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.prev=1;_context3.next=4;return axios.put(\"http://localhost:4500/data/\".concat(id),student).then(function(res){console.log(res.data);dispatch(putDatas(res.data));navigate(\"/\",{replace:true});});case 4:_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0,\"error in edit time\");case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[1,6]]);}));return function edit(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"Main_div main-div-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 offset-2  mt-5  text-center p-5 d-grid\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit item\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"p-1 mb-2\",value:student.name,placeholder:\"Edit\",onChange:function onChange(e){return changetext(e);},name:\"name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:student.id,className:\"p-1 mb-2\",placeholder:\"Edit\",onChange:function onChange(e){return changetext(e);},name:\"id\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:function onClick(e){return edit(e);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning mt-2\",onClick:function onClick(e){return navigate(\"/\",{replace:true});},children:\"Back\"})]})})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Edit;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","axios","Header","Footer","useDispatch","putDatas","Edit","name","id","student","setStudent","dispatch","navigate","getAlldata","edit","get","then","res","console","log","data","changetext","e","target","value","preventDefault","put","replace"],"sources":["/home/itechnotion/Downloads/meet react/todo/Todo/src/todo/Edit.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport { useDispatch } from \"react-redux\";\nimport { putDatas } from \"../redux/actions/dataAction\";\n// import Curd from \"./Curd\";\n\nconst Edit = () => {\n  const [student, setStudent] = useState({\n    name: \"\",\n    id: \"\",\n  });\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  useEffect(() => {\n    getAlldata();\n    edit();\n  }, []);\n\n  const getAlldata = async () => {\n    try {\n      await axios.get(`http://localhost:4500/data/${id}`).then((res) => {\n        console.log(res.data);\n        setStudent(res.data);\n      });\n    } catch (err) {\n      console.log(err, \"data view time error\");\n    }\n  };\n  const changetext = async (e) => {\n    setStudent({ ...student, [e.target.name]: e.target.value });\n  };\n  const edit = async (e) => {\n    e.preventDefault();\n    try {\n      await axios\n        .put(`http://localhost:4500/data/${id}`, student)\n        .then((res) => {\n          console.log(res.data);\n          dispatch(putDatas(res.data));\n          navigate(\"/\", { replace: true });\n        });\n    } catch (err) {\n      console.log(err, \"error in edit time\");\n    }\n  };\n\n  return (\n    <>\n      <Header />\n      <div className=\"Main_div main-div-1\">\n        <div className=\"container\">\n          <div className=\"col-md-8 offset-2  mt-5  text-center p-5 d-grid\">\n            <h3>Edit item</h3>\n\n            <input\n              type=\"text\"\n              className=\"p-1 mb-2\"\n              value={student.name}\n              placeholder=\"Edit\"\n              onChange={(e) => changetext(e)}\n              name=\"name\"\n            />\n\n            <input\n              type=\"number\"\n              value={student.id}\n              className=\"p-1 mb-2\"\n              placeholder=\"Edit\"\n              onChange={(e) => changetext(e)}\n              name=\"id\"\n            />\n\n            <button className=\"btn btn-warning\" onClick={(e) => edit(e)}>\n              Edit\n            </button>\n            <button\n              className=\"btn btn-warning mt-2\"\n              onClick={(e) => navigate(\"/\", { replace: true })}\n            >\n              Back\n            </button>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default Edit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}